{"version":3,"sources":["../../../src/lib/tests/parse.js"],"names":["data","name","allday","startDate","Date","now","endDate","reminders","location","description","mandatory","repeats","result","strictEqual","deepEqual","every","week","forEach","x"],"mappings":"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","file":"parse.js","sourcesContent":["import assert from 'assert';\nimport parse from '../parse';\nimport rawTemplate from '../../client/templates';\n\n[\n  () => {\n    // basic test\n    const data = {\n      name: 'a test name',\n      allday: true,\n      startDate: Date.now(),\n      endDate: Date.now() + (3 * 24 * 60 * 60 * 1000),\n      reminders: [50, 20, 10, 0],\n      location: 'here somewhere',\n      description: 'somewhere else',\n      mandatory: false,\n      repeats: null,\n    };\n    const result = parse(\n      `other things that make sense\n      ${rawTemplate(data)}\n      and some more *markdown*`\n    );\n\n    assert(result && typeof result === 'object', 'Expected Object, got a falsy value');\n    assert.strictEqual(data.name, result.name, '`name` field incorrect');\n    assert.strictEqual(data.allday, result.allday, '`allday` field incorrect');\n    assert.strictEqual(data.startDate, result.startDate, '`startDate` field incorrect');\n    assert.strictEqual(data.endDate, result.endDate, '`endDate` field incorrect');\n    assert.deepEqual(data.reminders, result.reminders, '`reminders` field incorrect');\n    assert.strictEqual(data.location, result.location, '`location` field incorrect');\n    assert.strictEqual(data.description, result.description, '`description` field incorrect');\n    assert.strictEqual(data.repeats, result.repeats, '`repeats` field incorrect');\n  },\n  () => {\n    // test allday false and repeats as full object\n    const data = {\n      name: 'a test name',\n      allday: false,\n      startDate: Date.now() - (3 * 24 * 60 * 60 * 1000),\n      endDate: Date.now(),\n      reminders: [50, 20, 10, 0],\n      location: 'here somewhere',\n      description: 'somewhere else',\n      mandatory: false,\n      repeats: {\n        every: {\n          week: true,\n        },\n        endDate: null,\n      },\n    };\n    const result = parse(rawTemplate(data));\n    assert(typeof result === 'object', 'Expected Object, got something else');\n    assert.strictEqual(data.name, result.name, '`name` field incorrect');\n    assert.strictEqual(data.allday, result.allday, '`allday` field incorrect');\n    assert.strictEqual(data.startDate, result.startDate, '`startDate` field incorrect');\n    assert.strictEqual(data.endDate, result.endDate, '`endDate` field incorrect');\n    assert.deepEqual(data.reminders, result.reminders, '`reminders` field incorrect');\n    assert.strictEqual(data.location, result.location, '`location` field incorrect');\n    assert.strictEqual(data.description, result.description, '`description` field incorrect');\n    assert.deepEqual(data.repeats, result.repeats, '`repeats` field incorrect');\n  },\n  () => {\n    // test bad date failing completely\n    const data = {\n      name: 'a test name',\n      allday: false,\n      startDate: Date.now() - (3 * 24 * 60 * 60 * 1000),\n      endDate: 'a string',\n      reminders: [50, 20, 10, 0],\n      location: 'here somewhere',\n      description: 'somewhere else',\n      mandatory: false,\n    };\n    const result = parse(rawTemplate(data));\n    assert.strictEqual(null, result, 'Expected null, got something else');\n  },\n  () => {\n    // test bad reminders failing completely\n    const data = {\n      name: 'a test name',\n      allday: false,\n      startDate: Date.now() - (3 * 24 * 60 * 60 * 1000),\n      endDate: Date.now(),\n      reminders: 'a string',\n      location: 'here somewhere',\n      description: 'somewhere else',\n      mandatory: false,\n    };\n    const result = parse(rawTemplate(data));\n    assert.strictEqual(null, result, 'Expected null, got something else');\n  },\n  () => {\n    // test bad location failing completely\n    const data = {\n      name: 'a test name',\n      allday: false,\n      startDate: Date.now() - (3 * 24 * 60 * 60 * 1000),\n      endDate: Date.now(),\n      reminders: [50, 20, 10, 0],\n      location: 'here somewhere\\nhasbbks',\n      description: 'somewhere else',\n      mandatory: false,\n    };\n    const result = parse(rawTemplate(data));\n    assert.strictEqual(null, result, 'Expected null, got something else');\n  },\n  () => {\n    // test bad name failing completely\n    const data = {\n      name: 'a test name\\ndsjvhoaho',\n      allday: false,\n      startDate: Date.now() - (3 * 24 * 60 * 60 * 1000),\n      endDate: Date.now(),\n      reminders: [50, 20, 10, 0],\n      location: 'here somewhere',\n      description: 'somewhere else',\n      mandatory: false,\n    };\n    const result = parse(rawTemplate(data));\n    assert.strictEqual(null, result, 'Expected null, got something else');\n  },\n].forEach(x => x());\n"]}