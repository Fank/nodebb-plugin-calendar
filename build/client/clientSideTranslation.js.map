{"version":3,"sources":["../../src/client/clientSideTranslation.js"],"names":["init","Translator","translator","create","translateEvents","$","each","i","elem","el","attr","translateInPlace","then","find","x","val","replace","window","on","join"],"mappings":";;;;;AAAA,MAAMA,OAAQC,UAAD,IAAgB;AAC3B,QAAMC,aAAaD,WAAWE,MAAX,EAAnB;;AAEA,QAAMC,kBAAkB,MAAM;AAC5BC,MAAE,+CAAF,EAAmDC,IAAnD,CAAwD,CAACC,CAAD,EAAIC,IAAJ,KAAa;AACnE,YAAMC,KAAKJ,EAAEG,IAAF,CAAX;AACAC,SAAGC,IAAH,CAAQ,iBAAR,EAA2B,MAA3B;AACAR,iBAAWS,gBAAX,CAA4BH,IAA5B,EACGI,IADH,CACQ,MAAM;AACVH,WAAGI,IAAH,CAAQ,iCAAR,EACGH,IADH,CACQ,OADR,EACiB,CAACI,CAAD,EAAIC,GAAJ,KAAYA,IAAIC,OAAJ,CAAY,MAAZ,EAAoB,KAApB,CAD7B;AAED,OAJH;AAKD,KARD;AASD,GAVD;;AAYAX,IAAEY,MAAF,EAAUC,EAAV,CAAa,CACX,qBADW,EAEX,oBAFW,EAGX,qBAHW,EAIX,+BAJW,EAKX,yBALW,EAMXC,IANW,CAMN,GANM,CAAb,EAMa,MAAMf,iBANnB;AAOAA;AACD,CAvBD;;kBAyBeJ,I","file":"clientSideTranslation.js","sourcesContent":["const init = (Translator) => {\n  const translator = Translator.create();\n\n  const translateEvents = () => {\n    $('.plugin-calendar-event[data-translated=false]').each((i, elem) => {\n      const el = $(elem);\n      el.attr('data-translated', 'true');\n      translator.translateInPlace(elem)\n        .then(() => {\n          el.find('.plugin-calendar-time-date-view')\n            .attr('title', (x, val) => val.replace('<br>', ' | '));\n        });\n    });\n  };\n\n  $(window).on([\n    'action:posts.loaded',\n    'action:ajaxify.end',\n    'action:posts.edited',\n    'action:calendar.event.display',\n    'action:composer.preview',\n  ].join(' '), () => translateEvents());\n  translateEvents();\n};\n\nexport default init;\n"]}