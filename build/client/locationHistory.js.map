{"version":3,"sources":["../../src/client/locationHistory.js"],"names":["state","current","window","location","pathname","prev","handlers","listen","handler","push","$","on","e","data","url","forEach"],"mappings":";;;;;AAAA,MAAMA,QAAQ;AACZC,WAASC,OAAOC,QAAP,CAAgBC,QADb;AAEZC,QAAM,EAFM;AAGZC,YAAU,EAHE;AAIZC,QAJY,kBAILC,OAJK,EAII;AACd,SAAKF,QAAL,CAAcG,IAAd,CAAmBD,OAAnB;AACD;AANW,CAAd;;AASAE,EAAER,MAAF,EAAUS,EAAV,CAAa,sBAAb,EAAqC,CAACC,CAAD,EAAIC,IAAJ,KAAa;AAChDb,QAAMK,IAAN,GAAaL,MAAMC,OAAnB;AACAD,QAAMC,OAAN,GAAgBY,KAAKC,GAArB;;AAEAd,QAAMM,QAAN,CAAeS,OAAf,CAAuBP,WAAWA,QAAQR,KAAR,EAAea,IAAf,CAAlC;AACD,CALD;;kBAOeb,K","file":"locationHistory.js","sourcesContent":["const state = {\n  current: window.location.pathname,\n  prev: '',\n  handlers: [],\n  listen(handler) {\n    this.handlers.push(handler);\n  },\n};\n\n$(window).on('action:ajaxify.start', (e, data) => {\n  state.prev = state.current;\n  state.current = data.url;\n\n  state.handlers.forEach(handler => handler(state, data));\n});\n\nexport default state;\n"]}